Fri Jan 31 10:40:17 2025       
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.54.15              Driver Version: 550.54.15      CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  Tesla P100-PCIE-12GB           On  |   00000000:03:00.0 Off |                    0 |
| N/A   31C    P0             31W /  250W |       0MiB /  12288MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
                                                                                         
+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|  No running processes found                                                             |
+-----------------------------------------------------------------------------------------+
Looking in links: /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/gentoo2023/x86-64-v3, /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/gentoo2023/generic, /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/generic
Requirement already satisfied: nvflare~=2.5.0rc in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from -r requirements.txt (line 1)) (2.5.2)
Requirement already satisfied: torch in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from -r requirements.txt (line 2)) (2.5.1+computecanada)
Requirement already satisfied: torchvision in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from -r requirements.txt (line 3)) (0.20.1+computecanada)
Requirement already satisfied: tensorboard in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from -r requirements.txt (line 4)) (2.18.0+computecanada)
Requirement already satisfied: monai in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from -r requirements.txt (line 5)) (1.4.0+computecanada)
Requirement already satisfied: tqdm in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from -r requirements.txt (line 6)) (4.67.1+computecanada)
Requirement already satisfied: nibabel in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from -r requirements.txt (line 7)) (5.3.2)
Requirement already satisfied: cryptography>=36.0.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (42.0.8+computecanada)
Requirement already satisfied: Flask==3.0.2 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (3.0.2+computecanada)
Requirement already satisfied: Werkzeug==3.0.3 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (3.0.3+computecanada)
Requirement already satisfied: Flask-JWT-Extended==4.6.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (4.6.0)
Requirement already satisfied: Flask-SQLAlchemy==3.1.1 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (3.1.1)
Requirement already satisfied: SQLAlchemy==2.0.16 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (2.0.16+computecanada)
Requirement already satisfied: grpcio>=1.62.1 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (1.67.0+computecanada)
Requirement already satisfied: gunicorn>=22.0.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (23.0.0+computecanada)
Requirement already satisfied: numpy<2.0.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (1.26.4+computecanada)
Requirement already satisfied: protobuf>=4.24.4 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (5.29.3+computecanada)
Requirement already satisfied: psutil>=5.9.1 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (5.9.8+computecanada)
Requirement already satisfied: PyYAML>=6.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (6.0.2+computecanada)
Requirement already satisfied: requests>=2.28.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (2.32.3+computecanada)
Requirement already satisfied: six>=1.15.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (1.17.0+computecanada)
Requirement already satisfied: msgpack>=1.0.3 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (1.1.0+computecanada)
Requirement already satisfied: docker>=6.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (7.1.0)
Requirement already satisfied: websockets>=10.4 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (14.2)
Requirement already satisfied: pyhocon in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nvflare~=2.5.0rc->-r requirements.txt (line 1)) (0.3.61)
Requirement already satisfied: Jinja2>=3.1.2 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from Flask==3.0.2->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (3.1.5+computecanada)
Requirement already satisfied: itsdangerous>=2.1.2 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from Flask==3.0.2->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (2.2.0+computecanada)
Requirement already satisfied: click>=8.1.3 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from Flask==3.0.2->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (8.1.8+computecanada)
Requirement already satisfied: blinker>=1.6.2 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from Flask==3.0.2->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (1.9.0+computecanada)
Requirement already satisfied: PyJWT<3.0,>=2.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from Flask-JWT-Extended==4.6.0->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (2.10.1)
Requirement already satisfied: typing-extensions>=4.2.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from SQLAlchemy==2.0.16->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (4.12.2+computecanada)
Requirement already satisfied: greenlet!=0.4.17 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from SQLAlchemy==2.0.16->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (3.1.1+computecanada)
Requirement already satisfied: MarkupSafe>=2.1.1 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from Werkzeug==3.0.3->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (2.1.5+computecanada)
Requirement already satisfied: filelock in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from torch->-r requirements.txt (line 2)) (3.17.0)
Requirement already satisfied: networkx in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from torch->-r requirements.txt (line 2)) (3.4.2+computecanada)
Requirement already satisfied: fsspec in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from torch->-r requirements.txt (line 2)) (2024.12.0+computecanada)
Requirement already satisfied: sympy==1.13.1 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from torch->-r requirements.txt (line 2)) (1.13.1+computecanada)
Requirement already satisfied: mpmath<1.4,>=1.1.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from sympy==1.13.1->torch->-r requirements.txt (line 2)) (1.3.0+computecanada)
Requirement already satisfied: pillow-simd!=8.3.*,>=5.3.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from torchvision->-r requirements.txt (line 3)) (9.5.0.post2+computecanada)
Requirement already satisfied: absl-py>=0.4 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from tensorboard->-r requirements.txt (line 4)) (2.1.0+computecanada)
Requirement already satisfied: markdown>=2.6.8 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from tensorboard->-r requirements.txt (line 4)) (3.7+computecanada)
Requirement already satisfied: packaging in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from tensorboard->-r requirements.txt (line 4)) (24.2+computecanada)
Requirement already satisfied: setuptools>=41.0.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from tensorboard->-r requirements.txt (line 4)) (65.5.0)
Requirement already satisfied: tensorboard-data-server<0.8.0,>=0.7.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from tensorboard->-r requirements.txt (line 4)) (0.7.2+computecanada)
Requirement already satisfied: importlib-resources>=5.12 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from nibabel->-r requirements.txt (line 7)) (6.5.2)
Requirement already satisfied: cffi>=1.12 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from cryptography>=36.0.0->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (1.17.1+computecanada)
Requirement already satisfied: urllib3>=1.26.0 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from docker>=6.0->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (2.3.0+computecanada)
Requirement already satisfied: charset-normalizer<4,>=2 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from requests>=2.28.0->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from requests>=2.28.0->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (3.10+computecanada)
Requirement already satisfied: certifi>=2017.4.17 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from requests>=2.28.0->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (2024.12.14+computecanada)
Requirement already satisfied: pyparsing<4,>=2 in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from pyhocon->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (3.2.1)
Requirement already satisfied: pycparser in /home/psaha03/scratch/safeseg/env/lib/python3.11/site-packages (from cffi>=1.12->cryptography>=36.0.0->nvflare~=2.5.0rc->-r requirements.txt (line 1)) (2.22+computecanada)
2025-01-31 10:40:28,453 - SimulatorRunner - INFO - Create the Simulator Server.
2025-01-31 10:40:28,467 - CoreCell - INFO - server: creating listener on tcp://0:58545
2025-01-31 10:40:28,731 - CoreCell - INFO - server: created backbone external listener for tcp://0:58545
2025-01-31 10:40:28,732 - ConnectorManager - INFO - 893159: Try start_listener Listener resources: {'secure': False, 'host': 'localhost'}
2025-01-31 10:40:28,736 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00002 PASSIVE tcp://0:40353] is starting
2025-01-31 10:40:29,237 - CoreCell - INFO - server: created backbone internal listener for tcp://localhost:40353
2025-01-31 10:40:29,238 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00001 PASSIVE tcp://0:58545] is starting
2025-01-31 10:40:29,240 - SimulatorServer - INFO - max_reg_duration=60.0
2025-01-31 10:40:29,375 - nvflare.fuel.hci.server.hci - INFO - Starting Admin Server localhost on Port 35925
2025-01-31 10:40:29,375 - SimulatorRunner - INFO - Deploy the Apps.
2025-01-31 10:40:29,456 - SimulatorRunner - INFO - Create the simulate clients.
2025-01-31 10:40:29,470 - Communicator - INFO - Trying to register with server ...
2025-01-31 10:40:29,471 - ClientManager - INFO - authenticated client site-1
2025-01-31 10:40:29,472 - ClientManager - INFO - Client: New client site-1@172.16.136.252 joined. Sent token: d8583e6a-a0a7-44b5-85bc-8b6d2dee54d0.  Total clients: 1
2025-01-31 10:40:29,474 - Communicator - INFO - register RC: ok
2025-01-31 10:40:29,475 - FederatedClient - INFO - Successfully registered client:site-1 for project simulator_server. Token:d8583e6a-a0a7-44b5-85bc-8b6d2dee54d0 SSID:
2025-01-31 10:40:29,475 - SimulatorRunner - INFO - Set the client status ready.
2025-01-31 10:40:29,476 - SimulatorRunner - INFO - Deploy and start the Server App.
2025-01-31 10:40:29,482 - Cell - INFO - Register blob CB for channel='server_command', topic='*'
2025-01-31 10:40:29,483 - Cell - INFO - Register blob CB for channel='aux_communication', topic='*'
2025-01-31 10:40:29,484 - ServerCommandAgent - INFO - ServerCommandAgent cell register_request_cb: server.simulate_job
2025-01-31 10:41:14,935 - IntimeModelSelector - INFO - model selection weights control: None
2025-01-31 10:41:14,950 - AuxRunner - INFO - registered aux handler for topic __sync_runner__
2025-01-31 10:41:14,951 - AuxRunner - INFO - registered aux handler for topic __job_heartbeat__
2025-01-31 10:41:14,951 - AuxRunner - INFO - registered aux handler for topic __task_check__
2025-01-31 10:41:14,953 - AuxRunner - INFO - registered aux handler for topic RM.RELIABLE_REQUEST
2025-01-31 10:41:14,954 - AuxRunner - INFO - registered aux handler for topic RM.RELIABLE_REPLY
2025-01-31 10:41:14,956 - ReliableMessage - INFO - enabled reliable message: max_request_workers=20 query_interval=2.0
2025-01-31 10:41:14,958 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Server runner starting ...
2025-01-31 10:41:14,960 - AuxRunner - INFO - registered aux handler for topic fed.event
2025-01-31 10:41:14,963 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: starting workflow scatter_and_gather (<class 'nvflare.app_common.workflows.scatter_and_gather.ScatterAndGather'>) ...
2025-01-31 10:41:14,964 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Initializing ScatterAndGather workflow.
2025-01-31 10:41:14,965 - PTFileModelPersistor - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Both source_ckpt_file_full_name and ckpt_preload_path are not provided. Using the default model weights initialized on the persistor side.
2025-01-31 10:41:15,085 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Workflow scatter_and_gather (<class 'nvflare.app_common.workflows.scatter_and_gather.ScatterAndGather'>) started
2025-01-31 10:41:15,086 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Beginning ScatterAndGather training phase.
2025-01-31 10:41:15,087 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 0 started.
2025-01-31 10:41:15,088 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2025-01-31 10:41:15,198 - SimulatorClientRunner - INFO - Start the clients run simulation.
2025-01-31 10:41:16,199 - SimulatorClientRunner - INFO - Simulate Run client: site-1 on GPU group: 0
2025-01-31 10:41:19,231 - ClientTaskWorker - INFO - ClientTaskWorker started to run
2025-01-31 10:41:19,459 - CoreCell - INFO - site-1.simulate_job: created backbone external connector to tcp://localhost:58545
2025-01-31 10:41:19,466 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00001 ACTIVE tcp://localhost:58545] is starting
2025-01-31 10:41:19,469 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00002 127.0.0.1:35826 => 127.0.0.1:58545] is created: PID: 893183
2025-01-31 10:41:19,470 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00004 127.0.0.1:58545 <= 127.0.0.1:35826] is created: PID: 893159
2025-01-31 10:41:36,786 - AuxRunner - INFO - registered aux handler for topic __end_run__
2025-01-31 10:41:36,786 - AuxRunner - INFO - registered aux handler for topic __do_task__
2025-01-31 10:41:36,787 - Cell - INFO - Register blob CB for channel='aux_communication', topic='*'
2025-01-31 10:41:37,298 - Cell - INFO - broadcast: channel='aux_communication', topic='__sync_runner__', targets=['server.simulate_job'], timeout=2.0
2025-01-31 10:41:37,307 - ClientRunner - INFO - [identity=site-1, run=simulate_job]: synced to Server Runner in 0.508899450302124 seconds
2025-01-31 10:41:37,308 - AuxRunner - INFO - registered aux handler for topic RM.RELIABLE_REQUEST
2025-01-31 10:41:37,309 - AuxRunner - INFO - registered aux handler for topic RM.RELIABLE_REPLY
2025-01-31 10:41:37,310 - ReliableMessage - INFO - enabled reliable message: max_request_workers=20 query_interval=2.0
2025-01-31 10:41:37,312 - AuxRunner - INFO - registered aux handler for topic fed.event
2025-01-31 10:41:37,312 - ClientRunner - INFO - [identity=site-1, run=simulate_job]: client runner started
2025-01-31 10:41:37,313 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site-1
2025-01-31 10:41:37,316 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: assigned task to client site-1: name=train, id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92
2025-01-31 10:41:37,317 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: sent task assignment to client. client_name:site-1 task_id:24d7c76d-ef9c-4a86-845b-769ebfdd4d92
2025-01-31 10:41:37,318 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train   task_id: 24d7c76d-ef9c-4a86-845b-769ebfdd4d92  sharable_header_task_id: 24d7c76d-ef9c-4a86-845b-769ebfdd4d92
2025-01-31 10:41:37,433 - Communicator - INFO - Received from simulator_server server. getTask: train size: 18.8MB (18833681 Bytes) time: 0.119751 seconds
2025-01-31 10:41:37,434 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2025-01-31 10:41:37,435 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92
2025-01-31 10:41:37,436 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: invoking task executor LearnerExecutor
2025-01-31 10:41:37,437 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Client trainer got task: train
2025-01-31 10:41:37,438 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Client site-1 initialized with args: 
 Namespace(job_folder='/scratch/psaha03/safeseg/src/./configs/brats_central', workspace='/home/psaha03/scratch/workspace_brats/brats_central/site-1', clients=None, n_clients=1, threads=1, gpu='0', max_clients=100, set=['secure_train=False'], log_config=None, config_folder='config', job_id='simulate_job', client_config='config/config_fed_client.json', env='config/environment.json', end_run_for_all=False, sp_target='0:58545', sp_scheme='tcp', client_name='site-1', token='d8583e6a-a0a7-44b5-85bc-8b6d2dee54d0')
2025-01-31 10:41:37,469 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Training Size: 957, Validation Size: 393
2025-01-31 11:00:06,566 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: val_metric_global_model (global_model): 0.0135
2025-01-31 11:00:06,569 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Current/Total Round: 1/600
2025-01-31 11:00:06,570 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Client identity: site-1
2025-01-31 11:00:06,584 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Local steps per epoch: 957
2025-01-31 11:00:06,586 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Local epoch site-1: 1/1 (lr=0.0001)
2025-01-31 11:41:45,987 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Local epochs finished. Returning shareable
2025-01-31 11:41:45,994 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: finished processing task
2025-01-31 11:41:45,996 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: try #1: sending task result to server
2025-01-31 11:41:45,997 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: checking task ...
2025-01-31 11:41:45,997 - Cell - INFO - broadcast: channel='aux_communication', topic='__task_check__', targets=['server.simulate_job'], timeout=5.0
2025-01-31 11:41:46,004 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: start to send task result to server
2025-01-31 11:41:46,004 - FederatedClient - INFO - Starting to push execute result.
2025-01-31 11:41:46,104 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92
2025-01-31 11:41:46,117 - DXOAggregator - WARNING - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Aggregation_weight missing for site-1 and set to default value, 1.0 This kind of message will show 10 times at most.
2025-01-31 11:41:46,122 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: Contribution from site-1 ACCEPTED by the aggregator at round 0.
2025-01-31 11:41:46,275 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: finished processing client result by scatter_and_gather
2025-01-31 11:41:46,276 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2025-01-31 11:41:46,277 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:24d7c76d-ef9c-4a86-845b-769ebfdd4d92
2025-01-31 11:41:46,280 - Communicator - INFO -  SubmitUpdate size: 18.8MB (18833622 Bytes). time: 0.275101 seconds
2025-01-31 11:41:46,285 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24d7c76d-ef9c-4a86-845b-769ebfdd4d92]: task result sent to server
2025-01-31 11:41:46,286 - ClientTaskWorker - INFO - Finished one task run for client: site-1 interval: 2 task_processed: True
2025-01-31 11:41:46,475 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2025-01-31 11:41:46,477 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 1 update(s) at round 0
2025-01-31 11:41:46,491 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2025-01-31 11:41:46,522 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2025-01-31 11:41:46,805 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2025-01-31 11:41:46,806 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 0 finished.
2025-01-31 11:41:46,925 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 1 started.
2025-01-31 11:41:46,926 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2025-01-31 11:41:48,289 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: assigned task to client site-1: name=train, id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca
2025-01-31 11:41:48,291 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: sent task assignment to client. client_name:site-1 task_id:8a13e39f-8f5d-47ff-9b34-8efaefbd13ca
2025-01-31 11:41:48,291 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train   task_id: 8a13e39f-8f5d-47ff-9b34-8efaefbd13ca  sharable_header_task_id: 8a13e39f-8f5d-47ff-9b34-8efaefbd13ca
2025-01-31 11:41:48,387 - Communicator - INFO - Received from simulator_server server. getTask: train size: 18.8MB (18833681 Bytes) time: 0.099607 seconds
2025-01-31 11:41:48,388 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2025-01-31 11:41:48,388 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca
2025-01-31 11:41:48,389 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: invoking task executor LearnerExecutor
2025-01-31 11:41:48,390 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: Client trainer got task: train
2025-01-31 12:02:27,712 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: val_metric_global_model (global_model): 0.3475
2025-01-31 12:02:27,737 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: Current/Total Round: 2/600
2025-01-31 12:02:27,738 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: Client identity: site-1
2025-01-31 12:02:27,750 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: Local steps per epoch: 957
2025-01-31 12:02:27,754 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: Local epoch site-1: 1/1 (lr=0.0001)
2025-01-31 12:42:36,410 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: Local epochs finished. Returning shareable
2025-01-31 12:42:36,424 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: finished processing task
2025-01-31 12:42:36,425 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: try #1: sending task result to server
2025-01-31 12:42:36,426 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: checking task ...
2025-01-31 12:42:36,427 - Cell - INFO - broadcast: channel='aux_communication', topic='__task_check__', targets=['server.simulate_job'], timeout=5.0
2025-01-31 12:42:36,444 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: start to send task result to server
2025-01-31 12:42:36,444 - FederatedClient - INFO - Starting to push execute result.
2025-01-31 12:42:36,548 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca
2025-01-31 12:42:36,563 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: validation metric 0.34747720283604666 from client site-1
2025-01-31 12:42:36,564 - DXOAggregator - WARNING - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: Aggregation_weight missing for site-1 and set to default value, 1.0 This kind of message will show 10 times at most.
2025-01-31 12:42:36,569 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: Contribution from site-1 ACCEPTED by the aggregator at round 1.
2025-01-31 12:42:36,738 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: finished processing client result by scatter_and_gather
2025-01-31 12:42:36,738 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2025-01-31 12:42:36,739 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:8a13e39f-8f5d-47ff-9b34-8efaefbd13ca
2025-01-31 12:42:36,743 - Communicator - INFO -  SubmitUpdate size: 18.8MB (18833622 Bytes). time: 0.297584 seconds
2025-01-31 12:42:36,743 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8a13e39f-8f5d-47ff-9b34-8efaefbd13ca]: task result sent to server
2025-01-31 12:42:36,744 - ClientTaskWorker - INFO - Finished one task run for client: site-1 interval: 2 task_processed: True
2025-01-31 12:42:36,938 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2025-01-31 12:42:36,938 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: new best validation metric at round 1: 0.3474772028360466
2025-01-31 12:42:37,083 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 1 update(s) at round 1
2025-01-31 12:42:37,098 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2025-01-31 12:42:37,110 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2025-01-31 12:42:37,159 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2025-01-31 12:42:37,160 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 1 finished.
2025-01-31 12:42:37,270 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 2 started.
2025-01-31 12:42:37,271 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2025-01-31 12:42:38,750 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: assigned task to client site-1: name=train, id=941723c8-47de-4db3-bf18-7f64b668c4b1
2025-01-31 12:42:38,751 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: sent task assignment to client. client_name:site-1 task_id:941723c8-47de-4db3-bf18-7f64b668c4b1
2025-01-31 12:42:38,752 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train   task_id: 941723c8-47de-4db3-bf18-7f64b668c4b1  sharable_header_task_id: 941723c8-47de-4db3-bf18-7f64b668c4b1
2025-01-31 12:42:38,830 - Communicator - INFO - Received from simulator_server server. getTask: train size: 18.8MB (18833681 Bytes) time: 0.082673 seconds
2025-01-31 12:42:38,831 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2025-01-31 12:42:38,832 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=941723c8-47de-4db3-bf18-7f64b668c4b1
2025-01-31 12:42:38,833 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: invoking task executor LearnerExecutor
2025-01-31 12:42:38,834 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: Client trainer got task: train
2025-01-31 13:00:49,295 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: val_metric_global_model (global_model): 0.4533
2025-01-31 13:00:49,297 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: Current/Total Round: 3/600
2025-01-31 13:00:49,298 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: Client identity: site-1
2025-01-31 13:00:49,309 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: Local steps per epoch: 957
2025-01-31 13:00:49,310 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: Local epoch site-1: 1/1 (lr=0.0001)
2025-01-31 13:39:15,868 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: Local epochs finished. Returning shareable
2025-01-31 13:39:15,871 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: finished processing task
2025-01-31 13:39:15,872 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: try #1: sending task result to server
2025-01-31 13:39:15,872 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: checking task ...
2025-01-31 13:39:15,873 - Cell - INFO - broadcast: channel='aux_communication', topic='__task_check__', targets=['server.simulate_job'], timeout=5.0
2025-01-31 13:39:15,880 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: start to send task result to server
2025-01-31 13:39:15,881 - FederatedClient - INFO - Starting to push execute result.
2025-01-31 13:39:15,956 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=941723c8-47de-4db3-bf18-7f64b668c4b1
2025-01-31 13:39:15,978 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: validation metric 0.45331126683322015 from client site-1
2025-01-31 13:39:15,979 - DXOAggregator - WARNING - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: Aggregation_weight missing for site-1 and set to default value, 1.0 This kind of message will show 10 times at most.
2025-01-31 13:39:15,984 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: Contribution from site-1 ACCEPTED by the aggregator at round 2.
2025-01-31 13:39:16,154 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: finished processing client result by scatter_and_gather
2025-01-31 13:39:16,155 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:941723c8-47de-4db3-bf18-7f64b668c4b1
2025-01-31 13:39:16,158 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2025-01-31 13:39:16,161 - Communicator - INFO -  SubmitUpdate size: 18.8MB (18833622 Bytes). time: 0.279704 seconds
2025-01-31 13:39:16,162 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=941723c8-47de-4db3-bf18-7f64b668c4b1]: task result sent to server
2025-01-31 13:39:16,163 - ClientTaskWorker - INFO - Finished one task run for client: site-1 interval: 2 task_processed: True
2025-01-31 13:39:16,354 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2025-01-31 13:39:16,355 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: new best validation metric at round 2: 0.45331126683322015
2025-01-31 13:39:16,575 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 1 update(s) at round 2
2025-01-31 13:39:16,581 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2025-01-31 13:39:16,589 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2025-01-31 13:39:16,645 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2025-01-31 13:39:16,646 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 2 finished.
2025-01-31 13:39:16,756 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 3 started.
2025-01-31 13:39:16,757 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2025-01-31 13:39:18,169 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: assigned task to client site-1: name=train, id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba
2025-01-31 13:39:18,172 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: sent task assignment to client. client_name:site-1 task_id:0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba
2025-01-31 13:39:18,172 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train   task_id: 0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba  sharable_header_task_id: 0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba
2025-01-31 13:39:18,243 - Communicator - INFO - Received from simulator_server server. getTask: train size: 18.8MB (18833681 Bytes) time: 0.076567 seconds
2025-01-31 13:39:18,244 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2025-01-31 13:39:18,245 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba
2025-01-31 13:39:18,246 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: invoking task executor LearnerExecutor
2025-01-31 13:39:18,246 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: Client trainer got task: train
2025-01-31 13:57:26,066 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: val_metric_global_model (global_model): 0.5116
2025-01-31 13:57:26,136 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: Current/Total Round: 4/600
2025-01-31 13:57:26,136 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: Client identity: site-1
2025-01-31 13:57:26,147 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: Local steps per epoch: 957
2025-01-31 13:57:26,148 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: Local epoch site-1: 1/1 (lr=0.0001)
2025-01-31 14:35:28,391 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: Local epochs finished. Returning shareable
2025-01-31 14:35:28,517 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: finished processing task
2025-01-31 14:35:28,518 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: try #1: sending task result to server
2025-01-31 14:35:28,520 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: checking task ...
2025-01-31 14:35:28,521 - Cell - INFO - broadcast: channel='aux_communication', topic='__task_check__', targets=['server.simulate_job'], timeout=5.0
2025-01-31 14:35:28,527 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: start to send task result to server
2025-01-31 14:35:28,528 - FederatedClient - INFO - Starting to push execute result.
2025-01-31 14:35:28,611 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba
2025-01-31 14:35:28,642 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: validation metric 0.5115725651114976 from client site-1
2025-01-31 14:35:28,644 - DXOAggregator - WARNING - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: Aggregation_weight missing for site-1 and set to default value, 1.0 This kind of message will show 10 times at most.
2025-01-31 14:35:28,650 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: Contribution from site-1 ACCEPTED by the aggregator at round 3.
2025-01-31 14:35:28,770 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: finished processing client result by scatter_and_gather
2025-01-31 14:35:28,771 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2025-01-31 14:35:28,771 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba
2025-01-31 14:35:28,775 - Communicator - INFO -  SubmitUpdate size: 18.8MB (18833622 Bytes). time: 0.246598 seconds
2025-01-31 14:35:28,776 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a4bcf2c-ff47-4bd7-91d7-0d4925daf5ba]: task result sent to server
2025-01-31 14:35:28,777 - ClientTaskWorker - INFO - Finished one task run for client: site-1 interval: 2 task_processed: True
2025-01-31 14:35:28,801 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2025-01-31 14:35:28,802 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: new best validation metric at round 3: 0.5115725651114976
2025-01-31 14:35:29,086 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 1 update(s) at round 3
2025-01-31 14:35:29,092 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2025-01-31 14:35:29,154 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2025-01-31 14:35:29,204 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2025-01-31 14:35:29,205 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 3 finished.
2025-01-31 14:35:29,317 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 4 started.
2025-01-31 14:35:29,318 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2025-01-31 14:35:30,782 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: assigned task to client site-1: name=train, id=20c32b9c-813f-4b25-8b8f-6c200c0f7593
2025-01-31 14:35:30,783 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: sent task assignment to client. client_name:site-1 task_id:20c32b9c-813f-4b25-8b8f-6c200c0f7593
2025-01-31 14:35:30,784 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train   task_id: 20c32b9c-813f-4b25-8b8f-6c200c0f7593  sharable_header_task_id: 20c32b9c-813f-4b25-8b8f-6c200c0f7593
2025-01-31 14:35:30,851 - Communicator - INFO - Received from simulator_server server. getTask: train size: 18.8MB (18833681 Bytes) time: 0.071724 seconds
2025-01-31 14:35:30,852 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2025-01-31 14:35:30,853 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=20c32b9c-813f-4b25-8b8f-6c200c0f7593
2025-01-31 14:35:30,854 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: invoking task executor LearnerExecutor
2025-01-31 14:35:30,855 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: Client trainer got task: train
2025-01-31 14:53:36,627 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: val_metric_global_model (global_model): 0.5650
2025-01-31 14:53:36,629 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: Current/Total Round: 5/600
2025-01-31 14:53:36,630 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: Client identity: site-1
2025-01-31 14:53:36,640 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: Local steps per epoch: 957
2025-01-31 14:53:36,642 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: Local epoch site-1: 1/1 (lr=0.0001)
2025-01-31 15:33:47,423 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: Local epochs finished. Returning shareable
2025-01-31 15:33:47,528 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: finished processing task
2025-01-31 15:33:47,529 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: try #1: sending task result to server
2025-01-31 15:33:47,530 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: checking task ...
2025-01-31 15:33:47,531 - Cell - INFO - broadcast: channel='aux_communication', topic='__task_check__', targets=['server.simulate_job'], timeout=5.0
2025-01-31 15:33:47,538 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: start to send task result to server
2025-01-31 15:33:47,539 - FederatedClient - INFO - Starting to push execute result.
2025-01-31 15:33:47,616 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=20c32b9c-813f-4b25-8b8f-6c200c0f7593
2025-01-31 15:33:47,650 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: validation metric 0.5649581239810092 from client site-1
2025-01-31 15:33:47,651 - DXOAggregator - WARNING - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: Aggregation_weight missing for site-1 and set to default value, 1.0 This kind of message will show 10 times at most.
2025-01-31 15:33:47,656 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: Contribution from site-1 ACCEPTED by the aggregator at round 4.
2025-01-31 15:33:47,827 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: finished processing client result by scatter_and_gather
2025-01-31 15:33:47,827 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2025-01-31 15:33:47,828 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:20c32b9c-813f-4b25-8b8f-6c200c0f7593
2025-01-31 15:33:47,831 - Communicator - INFO -  SubmitUpdate size: 18.8MB (18833622 Bytes). time: 0.290804 seconds
2025-01-31 15:33:47,831 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=20c32b9c-813f-4b25-8b8f-6c200c0f7593]: task result sent to server
2025-01-31 15:33:47,832 - ClientTaskWorker - INFO - Finished one task run for client: site-1 interval: 2 task_processed: True
2025-01-31 15:33:48,027 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2025-01-31 15:33:48,028 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: new best validation metric at round 4: 0.5649581239810092
2025-01-31 15:33:48,100 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 1 update(s) at round 4
2025-01-31 15:33:48,106 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2025-01-31 15:33:48,114 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2025-01-31 15:33:48,168 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2025-01-31 15:33:48,169 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 4 finished.
2025-01-31 15:33:48,293 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 5 started.
2025-01-31 15:33:48,294 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2025-01-31 15:33:49,836 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: assigned task to client site-1: name=train, id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece
2025-01-31 15:33:49,837 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: sent task assignment to client. client_name:site-1 task_id:c6c8ee59-ed97-44e1-a51a-7fe467cf8ece
2025-01-31 15:33:49,838 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train   task_id: c6c8ee59-ed97-44e1-a51a-7fe467cf8ece  sharable_header_task_id: c6c8ee59-ed97-44e1-a51a-7fe467cf8ece
2025-01-31 15:33:49,909 - Communicator - INFO - Received from simulator_server server. getTask: train size: 18.8MB (18833681 Bytes) time: 0.075074 seconds
2025-01-31 15:33:49,910 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2025-01-31 15:33:49,910 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece
2025-01-31 15:33:49,911 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: invoking task executor LearnerExecutor
2025-01-31 15:33:49,912 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: Client trainer got task: train
2025-01-31 15:51:56,547 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: val_metric_global_model (global_model): 0.6154
2025-01-31 15:51:56,549 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: Current/Total Round: 6/600
2025-01-31 15:51:56,549 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: Client identity: site-1
2025-01-31 15:51:56,560 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: Local steps per epoch: 957
2025-01-31 15:51:56,562 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: Local epoch site-1: 1/1 (lr=0.0001)
2025-01-31 16:30:37,675 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: Local epochs finished. Returning shareable
2025-01-31 16:30:37,707 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: finished processing task
2025-01-31 16:30:37,709 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: try #1: sending task result to server
2025-01-31 16:30:37,710 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: checking task ...
2025-01-31 16:30:37,711 - Cell - INFO - broadcast: channel='aux_communication', topic='__task_check__', targets=['server.simulate_job'], timeout=5.0
2025-01-31 16:30:37,718 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: start to send task result to server
2025-01-31 16:30:37,719 - FederatedClient - INFO - Starting to push execute result.
2025-01-31 16:30:37,866 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece
2025-01-31 16:30:37,904 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: validation metric 0.6154275355820868 from client site-1
2025-01-31 16:30:37,904 - DXOAggregator - WARNING - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: Aggregation_weight missing for site-1 and set to default value, 1.0 This kind of message will show 10 times at most.
2025-01-31 16:30:37,910 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: Contribution from site-1 ACCEPTED by the aggregator at round 5.
2025-01-31 16:30:38,065 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: finished processing client result by scatter_and_gather
2025-01-31 16:30:38,066 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2025-01-31 16:30:38,066 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:c6c8ee59-ed97-44e1-a51a-7fe467cf8ece
2025-01-31 16:30:38,071 - Communicator - INFO -  SubmitUpdate size: 18.8MB (18833622 Bytes). time: 0.350702 seconds
2025-01-31 16:30:38,072 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c6c8ee59-ed97-44e1-a51a-7fe467cf8ece]: task result sent to server
2025-01-31 16:30:38,074 - ClientTaskWorker - INFO - Finished one task run for client: site-1 interval: 2 task_processed: True
2025-01-31 16:30:38,265 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2025-01-31 16:30:38,266 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: new best validation metric at round 5: 0.6154275355820868
2025-01-31 16:30:38,539 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 1 update(s) at round 5
2025-01-31 16:30:38,546 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2025-01-31 16:30:38,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2025-01-31 16:30:38,608 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2025-01-31 16:30:38,609 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 5 finished.
2025-01-31 16:30:38,745 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 6 started.
2025-01-31 16:30:38,747 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2025-01-31 16:30:40,080 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: assigned task to client site-1: name=train, id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5
2025-01-31 16:30:40,081 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: sent task assignment to client. client_name:site-1 task_id:b6e5c973-e302-49f2-8ca3-69082b9a7aa5
2025-01-31 16:30:40,082 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train   task_id: b6e5c973-e302-49f2-8ca3-69082b9a7aa5  sharable_header_task_id: b6e5c973-e302-49f2-8ca3-69082b9a7aa5
2025-01-31 16:30:40,154 - Communicator - INFO - Received from simulator_server server. getTask: train size: 18.8MB (18833681 Bytes) time: 0.076637 seconds
2025-01-31 16:30:40,155 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2025-01-31 16:30:40,156 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5
2025-01-31 16:30:40,157 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: invoking task executor LearnerExecutor
2025-01-31 16:30:40,158 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: Client trainer got task: train
2025-01-31 16:50:45,301 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: val_metric_global_model (global_model): 0.6434
2025-01-31 16:50:45,316 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: Current/Total Round: 7/600
2025-01-31 16:50:45,317 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: Client identity: site-1
2025-01-31 16:50:45,329 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: Local steps per epoch: 957
2025-01-31 16:50:45,330 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: Local epoch site-1: 1/1 (lr=0.0001)
2025-01-31 17:29:21,454 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: Local epochs finished. Returning shareable
2025-01-31 17:29:21,484 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: finished processing task
2025-01-31 17:29:21,485 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: try #1: sending task result to server
2025-01-31 17:29:21,486 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: checking task ...
2025-01-31 17:29:21,488 - Cell - INFO - broadcast: channel='aux_communication', topic='__task_check__', targets=['server.simulate_job'], timeout=5.0
2025-01-31 17:29:21,495 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: start to send task result to server
2025-01-31 17:29:21,495 - FederatedClient - INFO - Starting to push execute result.
2025-01-31 17:29:21,568 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5
2025-01-31 17:29:21,596 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: validation metric 0.6433859367248275 from client site-1
2025-01-31 17:29:21,597 - DXOAggregator - WARNING - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: Aggregation_weight missing for site-1 and set to default value, 1.0 This kind of message will show 10 times at most.
2025-01-31 17:29:21,602 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: Contribution from site-1 ACCEPTED by the aggregator at round 6.
2025-01-31 17:29:21,724 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: finished processing client result by scatter_and_gather
2025-01-31 17:29:21,725 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:b6e5c973-e302-49f2-8ca3-69082b9a7aa5
2025-01-31 17:29:21,727 - Communicator - INFO -  SubmitUpdate size: 18.8MB (18833622 Bytes). time: 0.231098 seconds
2025-01-31 17:29:21,728 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b6e5c973-e302-49f2-8ca3-69082b9a7aa5]: task result sent to server
2025-01-31 17:29:21,729 - ClientTaskWorker - INFO - Finished one task run for client: site-1 interval: 2 task_processed: True
2025-01-31 17:29:21,761 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2025-01-31 17:29:21,924 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2025-01-31 17:29:21,925 - IntimeModelSelector - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: new best validation metric at round 6: 0.6433859367248275
2025-01-31 17:29:22,068 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 1 update(s) at round 6
2025-01-31 17:29:22,074 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2025-01-31 17:29:22,103 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2025-01-31 17:29:22,172 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2025-01-31 17:29:22,173 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 6 finished.
2025-01-31 17:29:22,303 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 7 started.
2025-01-31 17:29:22,304 - WFCommServer - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2025-01-31 17:29:23,734 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: assigned task to client site-1: name=train, id=72cbcac0-aa26-4f31-8f08-364dd27452d0
2025-01-31 17:29:23,735 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: sent task assignment to client. client_name:site-1 task_id:72cbcac0-aa26-4f31-8f08-364dd27452d0
2025-01-31 17:29:23,736 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train   task_id: 72cbcac0-aa26-4f31-8f08-364dd27452d0  sharable_header_task_id: 72cbcac0-aa26-4f31-8f08-364dd27452d0
2025-01-31 17:29:23,805 - Communicator - INFO - Received from simulator_server server. getTask: train size: 18.8MB (18833681 Bytes) time: 0.073932 seconds
2025-01-31 17:29:23,806 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2025-01-31 17:29:23,807 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=72cbcac0-aa26-4f31-8f08-364dd27452d0
2025-01-31 17:29:23,808 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: invoking task executor LearnerExecutor
2025-01-31 17:29:23,809 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: Client trainer got task: train
2025-01-31 17:47:26,706 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: val_metric_global_model (global_model): 0.6852
2025-01-31 17:47:26,708 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: Current/Total Round: 8/600
2025-01-31 17:47:26,709 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: Client identity: site-1
2025-01-31 17:47:26,721 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: Local steps per epoch: 957
2025-01-31 17:47:26,722 - SupervisedMonaiBratsLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=72cbcac0-aa26-4f31-8f08-364dd27452d0]: Local epoch site-1: 1/1 (lr=0.0001)
